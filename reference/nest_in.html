<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a nested structure — nest_in • nestr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create a nested structure — nest_in" />
<meta property="og:description" content="This function results in a two column data frame with nested structure.
Currently only one parent is supported and child is only specified by
giving the number of levels. (This will change shortly)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">nestr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a nested structure</h1>
    
    <div class="hidden name"><code>nest_in.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function results in a two column data frame with nested structure.
Currently only one parent is supported and child is only specified by
giving the number of levels. (This will change shortly).</p>
    </div>

    <pre class="usage"><span class='fu'>nest_in</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>...</span>,
  prefix <span class='op'>=</span> <span class='st'>""</span>,
  suffix <span class='op'>=</span> <span class='st'>""</span>,
  distinct <span class='op'>=</span> <span class='cn'>FALSE</span>,
  leading0 <span class='op'>=</span> <span class='cn'>FALSE</span>,
  compact <span class='op'>=</span> <span class='cn'>TRUE</span>,
  keyname <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A vector where each entry is the level of a parent. It may
be a factor or character. If character, levels are ordered alphanumerically.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>A single integer, character vector or sequence of
two-sided formula. If a single integer or character vector then each parent will have
children specified by the given value. If it is sequence of two-sided formula, then the left hand
side (LHS) specifies the level as an integer or character. E.g. <code>1</code>
means the first level of the parent vector. If it is a
character then it is assumed that it corresponds to the label of
the parental level. Vector is supported for LHS.
The right hand side (RHS) can only be an integer or a character vector.</p></td>
    </tr>
    <tr>
      <th>prefix</th>
      <td><p>The prefix for the child labels.</p></td>
    </tr>
    <tr>
      <th>suffix</th>
      <td><p>The suffix for the child labels.</p></td>
    </tr>
    <tr>
      <th>distinct</th>
      <td><p>A logical value to indicate whether the child labels
across parents should be distinct. The labels are only
distinct if the RHS of the formula is numeric.</p></td>
    </tr>
    <tr>
      <th>leading0</th>
      <td><p>By default it is <code>FALSE</code>. If <code>TRUE</code>, this is the
same as setting <code>0</code> or <code>1</code>. If a positive integer is
specified then it corresponds to the minimum number of digits
for the child labels and there will be leading zeros augmented so
that the minimum number is met.</p></td>
    </tr>
    <tr>
      <th>compact</th>
      <td><p>A logical value to indicate whether the returned list
should be a compact representation or not. Ignored if distinct is <code>TRUE</code>
since it's not possible to make compact representation if unit labels
are all distinct.</p></td>
    </tr>
    <tr>
      <th>keyname</th>
      <td><p>The name of the parent variable. It's usually the key
that connects the output to another table.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A named list where the entry corresponding to the child levels
and the names correspond to parental levels.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Each element in the supplied the vector has 4 child.</span>
<span class='fu'>nest_in</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, <span class='fl'>4</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $`1`
#&gt; [1] "1" "2" "3" "4"
#&gt; 
#&gt; $`2`
#&gt; [1] "1" "2" "3" "4"
#&gt; 
#&gt; $`3`
#&gt; [1] "1" "2" "3" "4"
#&gt; </div><div class='input'>
<span class='co'># prefix and suffix can be added to child labels</span>
<span class='co'># along with other aesthesitics like leading zeroes</span>
<span class='co'># with minimum number of digits.</span>
<span class='fu'>nest_in</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, <span class='fl'>10</span>, prefix <span class='op'>=</span> <span class='st'>"id-"</span>, suffix <span class='op'>=</span> <span class='st'>"xy"</span>, leading0 <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $`1`
#&gt;  [1] "id-0001xy" "id-0002xy" "id-0003xy" "id-0004xy" "id-0005xy" "id-0006xy"
#&gt;  [7] "id-0007xy" "id-0008xy" "id-0009xy" "id-0010xy"
#&gt; 
#&gt; $`2`
#&gt;  [1] "id-0001xy" "id-0002xy" "id-0003xy" "id-0004xy" "id-0005xy" "id-0006xy"
#&gt;  [7] "id-0007xy" "id-0008xy" "id-0009xy" "id-0010xy"
#&gt; 
#&gt; $`3`
#&gt;  [1] "id-0001xy" "id-0002xy" "id-0003xy" "id-0004xy" "id-0005xy" "id-0006xy"
#&gt;  [7] "id-0007xy" "id-0008xy" "id-0009xy" "id-0010xy"
#&gt; </div><div class='input'>
<span class='co'># you can specify unbalanced nested structures</span>
<span class='fu'>nest_in</span><span class='op'>(</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>4</span>,
         <span class='fl'>1</span> <span class='op'>~</span> <span class='fl'>3</span>,
         <span class='fl'>2</span> <span class='op'>~</span> <span class='fl'>4</span>,
         <span class='fl'>3</span> <span class='op'>~</span> <span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $`2`
#&gt; [1] "1" "2" "3"
#&gt; 
#&gt; $`3`
#&gt; [1] "1" "2" "3" "4"
#&gt; 
#&gt; $`4`
#&gt; [1] "1" "2"
#&gt; </div><div class='input'>
<span class='co'># A `.` may be used to specify "otherwise".</span>
<span class='fu'>nest_in</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"A"</span>, <span class='st'>"B"</span>, <span class='st'>"C"</span>, <span class='st'>"D"</span><span class='op'>)</span>,
             <span class='fl'>2</span><span class='op'>:</span><span class='fl'>3</span> <span class='op'>~</span> <span class='fl'>10</span>,
               <span class='va'>.</span> <span class='op'>~</span> <span class='fl'>3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $A
#&gt; [1] "1" "2" "3"
#&gt; 
#&gt; $B
#&gt;  [1] "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10"
#&gt; 
#&gt; $C
#&gt; [1] "1" "2" "3"
#&gt; 
#&gt; $D
#&gt; [1] "1" "2" "3"
#&gt; </div><div class='input'>
<span class='co'># The parental level can be referred by its name or vectorised.</span>
<span class='fu'>nest_in</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"A"</span>, <span class='st'>"B"</span>, <span class='st'>"C"</span><span class='op'>)</span>,
         <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"A"</span>, <span class='st'>"B"</span><span class='op'>)</span> <span class='op'>~</span> <span class='fl'>10</span>,
                 <span class='st'>"C"</span> <span class='op'>~</span> <span class='fl'>3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $A
#&gt;  [1] "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10"
#&gt; 
#&gt; $B
#&gt; NULL
#&gt; 
#&gt; $C
#&gt; [1] "1" "2" "3"
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Emi Tanaka.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


